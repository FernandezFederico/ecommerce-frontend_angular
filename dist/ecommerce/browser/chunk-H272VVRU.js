import{a,b as c}from"./chunk-ZMNGNRTC.js";import{a as h,j as u}from"./chunk-XHZKNT62.js";import{ba as n,ga as l,la as i}from"./chunk-W6ACBSJJ.js";var I=(()=>{let r=class r{constructor(t,e,o){this.http=t,this.router=e,this.alertService=o,this.authLoginUser=null}signUp(t){return this.http.post(`${a.apiUrl}/users`,{newUser:t,userRole:"CUST"})}setAuthLoginUser(t){this.authLoginUser=t,localStorage.setItem("userData",JSON.stringify(t))}login(t,e){return this.http.post(`${a.apiUrl}/users/login`,{userEmail:t,userPassword:e}).pipe(n({next:o=>{this.setAuthLoginUser(o),this.router.navigate(["dashboard","home"])},error:o=>{console.error("Error en el login:",o),this.alertService.showErrorAlert("Credenciales incorrectas")}}))}isLoggedIn(){return localStorage.getItem("userData")!==null}getLoggedInUser(){this.authLoginUser=JSON.parse(localStorage.getItem("userData")||"{}")}logout(){localStorage.removeItem("userData"),this.authLoginUser=null,this.router.navigate(["dashboard","home"])}};r.\u0275fac=function(e){return new(e||r)(i(h),i(u),i(c))},r.\u0275prov=l({token:r,factory:r.\u0275fac,providedIn:"root"});let s=r;return s})();export{I as a};
